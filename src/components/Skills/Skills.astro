---
import data from "../../../data/skills.json";
interface Props {
  icon?: string;
}
---

<section
  id="skills"
  class="pt-24 pb-24 grid grid-cols-1 grid-rows-[min-content_min-content] skillstrigger overflow-hidden"
>
  <h2
    class="font-bold font-bodyfont text-5xl row-start-1 col-span-full justify-self-center mb-10 skills_headline"
  >
    Skills & Tech
  </h2>
  <div
    class="row-start-2 w-full px-12 sm:px-24 md:px-48 lg:px-64 xl:px-96 overflow-hidden"
  >
    <ul class="flex flex-wrap place-content-center">
      {
        data.map((skill) => (
          <li class="w-16  mx-6 my-2 gap-x-4 relative hint [&>div]:hover:opacity-100">
            <a href={skill.href} target="_blank">
              <img
                class="skill"
                src={`../../assets/skills/${skill.icon}`}
                alt={skill.icon_alt}
              />
            </a>
            <div class="opacity-0 rounded-lg p-2 bg-primary1 border border-accent1 text-white absolute -bottom-10 flex justify-center w-[100px] left-1/2 transform -translate-x-1/2 z-50 transition-all ease-in-out duration-300">
              {skill.name}
            </div>
          </li>
        ))
      }
    </ul>
  </div>
</section>
<script is:inline>
const hints = Array.from(document.querySelectorAll(".hint"));
// for (const hint of hints) {
//   hint.addEventListener("mouseover", () => {
//     hint.lastElementChild.classList.remove("hidden");
//   });

//   hint.addEventListener("mouseout", () => {
//     hint.lastElementChild.classList.add("hidden");
//   });
// }

// Animation
let tl9 = gsap.timeline({
  scrollTrigger: {
    trigger: ".skillstrigger",
    start: "top center",
    end: "140px center",
    scrub: false,
    toggleActions: "play none none reverse",
  },
});
tl9.from(".skills_headline", {
  y: 800,
});
let tl8 = gsap.timeline({
  scrollTrigger: {
    trigger: ".skillstrigger",
    start: "top center",
    end: "140px center",
    scrub: false,
    toggleActions: "play none none reset",
  },
});
const skillsList = Array.from(document.querySelectorAll(".skill"));
skillsList.forEach((element, index) => {
  tl8.from(element, {
    y: 800,
    duration: 0.25,
  });
  });
</script>
